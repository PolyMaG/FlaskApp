{% extends 'base.html' %}


{% block title %}
Blueprint index page
{% endblock title %}


{% block content_title %}
Posts
{% endblock content_title %}


{% block content %}

{% for post in pages.items %}

<div class="list-group">
    <a href="{{ url_for('posts.post_detail', slug=post.slug) }}" class="list-group-item list-group-item-action"
        aria-current="true">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{ post.title }}</h5>
            <small>{{ post.created }}</small>
        </div>
        <p class="mb-1">{{ post.body }}</p>
        <div>Comments: <span class="badge bg-secondary rounded-pill">{{ post.comments|count }}</span></div>
        <small>Tags:
            {% for tag in post.tags %}
            <span class="badge bg-primary">{{ tag.name }}</span>
            {% endfor %}
        </small>
    </a>
</div>

{% endfor %}

<nav>
    <ul class="pagination">
        <li {% if not pages.has_prev %} class="page-item disabled" {% endif %}>
            <a class="page-link" href="./?page={{ pages.prev_num }}" tabindex="-1" aria-disabled="true">Previous</a>
        </li>

        {% for page in pages.iter_pages() %}

        <li {% if page == pages.page %} class="page-item active" aria-current="page" {% endif %}>
            <a class="page-link" href="./?page={{ page }}">{{ page }}</a>
        </li>

        {% endfor %}

        <li {% if not pages.has_next %} class="page-item disabled" {% endif %}>
            <a class="page-link" href="./?page={{ pages.next_num }}">Next</a>
        </li>
    </ul>
</nav>

{% endblock content %}
